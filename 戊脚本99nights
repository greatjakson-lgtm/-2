-- 检测脚本加载方式
local function checkLoadingMethod()
    -- 获取当前函数的调试信息
    local debugInfo = debug.getinfo(1, "S")
    if not debugInfo or not debugInfo.source then
        return false
    end
    
    -- 检查来源是否包含预期的GitHub链接
    local source = debugInfo.source:lower()
    local expectedUrl = "loadstring(game:HttpGet("https://raw.githubusercontent.com/greatjakson-lgtm/-2/main/戊脚本99nights"))()"
    if source:find(expectedUrl:lower(), 1, true) then
        return true
    end
    
    -- 检查是否通过loadstring和HttpGet方式加载
    if source:find("httpget") or source:find("loadstring") or source:find("https://") then
        return false -- 检测到其他加载方式
    end
    
    -- 如果不是通过预期的方式加载，则返回false
    return false
end

-- 执行检测
if not checkLoadingMethod() then
    -- 如果不是通过正确方式加载，尝试踢出玩家
    pcall(function()
        game.Players.LocalPlayer:Kick("检测到非法加载方式")
    end)
    return
end

-- 如果是正确方式加载，继续执行原脚本
loadstring(game:HttpGet("https://raw.githubusercontent.com/greatjakson-lgtm/-2/main/戊脚本99nights"))()
